
# Cognis 项目开发计划书

## 阶段 1：基础协议与命令行原型 (Sprint 1-2)
- **目标**: 确立底层逻辑，不依赖 GUI 运行。
- **核心任务**:
    - 完成 `TerminalSession` 协议定义。
    - 使用 Gemini-cli 编写 libssh2 的异步封装类。
    - 验证“一连接、双信道”的技术可行性。

## 阶段 2：视觉语言与 UI 框架 (Sprint 3-4)
- **目标**: 完成 Figma 设计并在 SwiftUI 中实现静态布局。
- **核心任务**:
    - 在 Figma 中定义 Cognis 设计系统（色彩、图标、排版）。
    - 实现基于 `NavigationSplitView` 的三栏式 UI。
    - 实现全透明、磨砂玻璃效果的窗口外观。

## 阶段 3：终端渲染引擎集成 (Sprint 5-6)
- **目标**: 终端可交互，支持本地及远程 Shell。
- **核心任务**:
    - 集成 `SwiftTerm`。
    - 实现多标签页（Tab）切换管理器。
    - 对接 SSH 交互信道，支持基本命令交互。

## 阶段 4：AI 深度集成 (Sprint 7-8)
- **目标**: 实现 AI 静默接入与 MCP 通讯。
- **核心任务**:
    - 集成 `ssh-mcp` 客户端。
    - 实现 AI 侧边栏的实时感知（当终端报错时，AI 自动弹出建议）。
    - 开发“一键执行 AI 建议”功能。

## 阶段 5：高级生产力工具 (Sprint 9-10)
- **目标**: 补齐 MobaXterm 的强项。
- **核心任务**:
    - 实现 SFTP 文件树与终端的自动路径同步。
    - 实现串口自动搜索与连接逻辑。
    - 增加全局搜索与会话持久化（SwiftData）。

## 阶段 6：性能优化与发布 (Sprint 11+)
- **目标**: 达到发布级稳定性。
- **核心任务**:
    - 优化大流量日志输出时的 CPU 占用。
    - 进行 macOS App 签名与公证。
    - 编写用户手册与 AI 指令集文档。

## 7. 详细时间线和里程碑

### 7.1 项目时间线（2026年）
- **Sprint 1-2 (基础协议)**: 2026年2月1日 - 2月28日
- **Sprint 3-4 (UI框架)**: 2026年3月1日 - 3月31日
- **Sprint 5-6 (终端集成)**: 2026年4月1日 - 4月30日
- **Sprint 7-8 (AI集成)**: 2026年5月1日 - 5月31日
- **Sprint 9-10 (生产力工具)**: 2026年6月1日 - 6月30日
- **Sprint 11+ (优化发布)**: 2026年7月1日 - 7月31日

### 7.2 关键里程碑
- **M1 - 原型验证完成**: 2026年2月28日
  - 双信道SSH原型通过测试
  - TerminalSession协议稳定
  - 基础命令行工具可用

- **M2 - UI框架完成**: 2026年3月31日
  - Figma设计系统完成
  - 三栏布局SwiftUI实现
  - 磨砂玻璃效果实现

- **M3 - 终端可交互**: 2026年4月30日
  - SwiftTerm集成完成
  - 多标签页管理器实现
  - SSH交互信道测试通过

- **M4 - AI基础集成**: 2026年5月31日
  - ssh-mcp客户端集成
  - AI侧边栏实时感知实现
  - 一键执行功能完成

- **M5 - Beta版本**: 2026年6月30日
  - SFTP文件树同步完成
  - 串口自动连接实现
  - 会话持久化功能完成

- **M6 - 正式发布**: 2026年7月31日
  - 性能优化完成
  - 应用签名和公证完成
  - 用户文档编写完成

## 8. 资源分配计划

### 8.1 人力资源
- **核心开发人员**: 2人（全栈Swift开发）
- **UI/UX设计师**: 1人（兼职，负责Figma设计和设计系统）
- **测试人员**: 1人（兼职，负责质量保证和测试计划）

### 8.2 工作量估算
- **总工时**: 约1200人时
- **Sprint 1-2**: 160人时（协议层开发）
- **Sprint 3-4**: 200人时（UI框架开发）
- **Sprint 5-6**: 240人时（终端集成）
- **Sprint 7-8**: 240人时（AI集成）
- **Sprint 9-10**: 200人时（生产力工具）
- **Sprint 11+**: 160人时（优化发布）

## 9. 风险管理计划

### 9.1 技术风险
- **libssh2集成复杂度**: 风险评估高，缓解措施是前期技术原型验证
- **SwiftTerm性能问题**: 风险评估中，缓解措施是性能基准测试和备选方案
- **MCP协议兼容性**: 风险评估中，缓解措施是多模型支持框架

### 9.2 项目风险
- **时间延误**: 风险评估高，缓解措施是预留20%缓冲时间
- **资源不足**: 风险评估中，缓解措施是模块化开发，优先核心功能
- **需求变更**: 风险评估低，缓解措施是敏捷开发，小步迭代

### 9.3 风险应对策略
- **规避**: 通过技术验证避免高风险技术选型
- **减轻**: 通过代码审查和测试降低质量风险
- **转移**: 复杂功能考虑第三方库或服务
- **接受**: 对于低概率风险制定应急计划

## 10. 质量保证计划

### 10.1 测试策略
- **单元测试覆盖率**: 目标80%核心业务逻辑
- **集成测试**: 所有组件接口集成测试
- **UI自动化测试**: 关键用户流程自动化测试
- **性能测试**: 终端渲染性能、内存使用、启动时间

### 10.2 代码质量标准
- **代码审查**: 所有PR必须经过至少1人审查
- **静态代码分析**: 集成SwiftLint，零警告目标
- **代码格式化**: 使用SwiftFormat统一代码风格
- **文档完整性**: 所有公共API必须有文档注释

### 10.3 发布标准
- **功能完整**: 所有计划功能实现并通过测试
- **性能达标**: 启动时间<2秒，内存使用<200MB
- **安全合规**: 通过macOS沙盒审查，无已知安全漏洞
- **用户体验**: 用户测试满意度评分>4/5分

## 11. 沟通计划

### 11.1 团队沟通
- **每日站会**: 15分钟，同步进度和阻塞问题
- **每周评审**: 1小时，演示成果和调整计划
- **Sprint回顾**: 每2周，总结经验和改进流程

### 11.2 进度报告
- **开发看板**: 使用GitHub Projects跟踪任务状态
- **周报**: 每周五发送项目进展报告
- **里程碑报告**: 每个里程碑完成后发布详细报告

### 11.3 问题跟踪
- **GitHub Issues**: 所有问题和改进建议
- **优先级标签**: P0(阻塞)、P1(高)、P2(中)、P3(低)
- **解决时间**: P0<1天、P1<3天、P2<1周、P3<2周
